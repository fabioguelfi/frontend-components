<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/communication-icons.html">

<dom-module id="qa-click-to-call">
	<template>
		<template is="dom-if" if="{{phonenumber}}">
			<a href="sip:[[phonenumber]]">
				<iron-icon icon="communication:phone"></iron-icon>
			</a>
		</template>
	</template>
	<script>
		Polymer({
			is: 'qa-click-to-call',
			properties: {
				'phonenumber': String, 
				'sipphonenumber' : {
					'computed': 'calculateSipPhoneNumber(phonenumber)'
				}
			},
			calculateSipPhoneNumber: function(phonenumber) {
				return (phonenumber || '').replace(new RegExp("[^0-9]","g"),'');
			}
		});
	</script>
</dom-module>